<!DOCTYPE html>
<html lang="ar" dir="rtl">
<head>
  <meta charset="utf-8" />
  <meta name="viewport" content="width=device-width, initial-scale=1" />
  <title>ZALABIA & DONUTS ‚Äî Menu</title>
  <meta name="description" content="ŸÇÿßÿ¶ŸÖÿ© Zalabia & Donuts ‚Äî Minimal, stylish, premium UI, quick WhatsApp ordering" />
  <link rel="icon" href="https://nol.pages.dev/sec/donicon.png" />
  <link href="https://fonts.googleapis.com/css2?family=Cairo:wght@700;900&display=swap" rel="stylesheet">
  <style>
    :root {
      --primary: #ff2e63;
      --accent: #ffb470;
      --bg: #fff5f8;
      --muted: #9b838d;
      --surface: rgba(255,255,255,0.9);
      --glass: rgba(255,245,248,0.79);
      --border: #faecf5;
      --shadow-sm: 0 3px 18px #ff2e6337;
      --radius-lg: 24px;
      --radius-md: 15px;
      --radius-sm: 8px;
      --transition: 220ms cubic-bezier(.16,.73,.24,.98);
    }
    body {
      font-family: "Cairo", system-ui, Arial, sans-serif;
      background: var(--bg);
      margin: 0; padding: 0;
      min-height: 100vh; color: #353b47;
    }
    /* Hero Section */
    .hero {
      position: relative;
      height: 370px;
      display: flex;
      align-items: center;
      justify-content: center;
      background: linear-gradient(185deg, var(--bg) 70%, #fff 100%), url('https://nol.pages.dev/sec/donicon.png') center/240px no-repeat;
      margin-bottom:32px;
      box-shadow: 0 4px 28px #ffb47022;
    }
    .hero-inner {
      display: flex;
      flex-direction: column;
      align-items: center;
      gap: 16px;
      padding: 40px 0 0 0;
      z-index: 1;
    }
    .hero-logo {
      width: 88px; height: 88px;
      border-radius: 50%;
      background: linear-gradient(135deg, var(--primary), var(--accent) 88%);
      display: flex; align-items: center; justify-content: center;
      box-shadow: 0 6px 40px #ff2e6368;
      margin-bottom:3px;
    }
    .hero-logo img { width: 54px; height: 54px;}
    .hero-title {
      font-size: 2.2rem;
      font-weight: 900;
      color: var(--primary);
      margin-bottom: .33em;
      letter-spacing:0.5px;
    }
    .hero-desc {
      color: var(--muted); font-size: 1.09rem; font-weight:700;
      text-align: center;
      margin-bottom: 6px;
      letter-spacing:0.4px;
      max-width:360px;
    }
    .hero-actions { display:flex; gap:8px; }
    .hero-btn {
      background: linear-gradient(90deg,var(--primary),var(--accent));
      color:#fff; border:none; font-weight:900; font-size:1.19rem; padding:10px 20px;
      border-radius: var(--radius-md);
      box-shadow: 0 6px 28px #ff2e637b;
      cursor:pointer; transition:background var(--transition),transform var(--transition);
      display:flex;align-items:center;gap:8px; outline:none;
    }
    .hero-btn:hover { background:linear-gradient(90deg,#ff2877,var(--accent)); transform:translateY(-2px) scale(1.03); }
    @media (max-width:600px) {
      .hero { height:256px; background-size:120px; }
      .hero-logo { width:54px; height:54px; }
      .hero-logo img { width:38px; height:38px;}
      .hero-inner { padding-top:26px; }
      .hero-title { font-size:1.22rem; }
      .hero-desc { font-size:0.98rem; max-width:220px;}
    }

    /* Minimal Search Bar */
    .search-bar {
      display:flex;align-items:center;justify-content:center;padding:0 0 12px 0;margin-bottom:12px;
    }
    .search-input {
      width: 100%; max-width: 370px;
      font-size: 1.1rem;
      padding: 9px 42px 9px 14px;
      border: 2px solid var(--border);
      border-radius: var(--radius-lg);
      background: var(--glass);
      color:#353b47; font-weight:700;
      transition: border .12s;
      outline:none;
      box-shadow:0 2px 16px #faecf552;
    }
    .search-input:focus { border-color: var(--primary);}
    .search-icon {
      position:absolute; right:22px; color:var(--muted); font-size:1.33rem; opacity:.63;
    }
    .search-container { position:relative;width:100%;max-width:370px; }

    /* Category Bar */
    .cat-bar {
      display:flex;gap:10px;overflow-x:auto;padding:4px 0 11px 0;margin-bottom:5px;justify-content:center;
      scrollbar-width:thin;
    }
    .cat-btn {
      background: var(--surface); border:2px solid var(--border);
      border-radius:999px;font-weight:900;font-size:1.04rem;
      color:var(--muted); padding:8px 17px; cursor:pointer; outline:none; transition:all var(--transition);
      box-shadow:none;white-space:nowrap;
    }
    .cat-btn.active, .cat-btn:focus {
      background:linear-gradient(90deg,var(--primary),var(--accent));
      border-color:var(--primary);color:#fff;transform:translateY(-2px);box-shadow:0 2px 18px #fff5f822;
    }

    /* Menu Grid */
    .menu-grid {
      display: grid;
      grid-template-columns: repeat(auto-fit, minmax(280px, 1fr));
      gap: 18px; padding: 14px 24px 60px 24px; box-sizing: border-box;
    }
    @media (max-width:700px) { .menu-grid { grid-template-columns:1fr; padding:8px 7vw 60px 7vw; } }

    /* Menu Card */
    .menu-card {
      background: var(--surface);
      border-radius: var(--radius-lg);
      box-shadow: var(--shadow-sm);
      padding: 18px 14px 12px 14px;
      display: flex; flex-direction: column; gap: 9px;
      align-items: flex-start; min-height:130px;
      border:2px solid var(--border);
      position:relative; transition:box-shadow var(--transition),transform var(--transition);
    }
    .menu-card:hover { box-shadow:0 7px 26px #ff2e633a; transform:translateY(-7px) scale(1.013); border-color:var(--primary); }
    .item-ar { font-weight:900;font-size:1.07rem; color:var(--primary);}
    .item-en { font-size:0.89rem; color:var(--muted); font-weight:700;}
    .item-variants {
      display:flex;gap:8px;flex-wrap:wrap;margin-top:1px;
    }
    .variant-pill {
      border-radius:999px; border:2px solid var(--border); background:var(--surface);
      color:var(--primary); padding:5px 13px 5px 13px;font-weight:800;font-size:1rem; cursor:pointer;transition:background var(--transition),box-shadow var(--transition),border var(--transition);
      box-shadow:none;
    }
    .variant-pill.selected, .variant-pill:active {
      border-color:var(--primary);background:linear-gradient(90deg,#fff5f8,var(--primary) 48%,var(--accent));color:#fff;box-shadow:0 2px 8px #ff2e633a;
    }

    /* Add/Remove Mini UX */
    .card-actions {
      display:flex;gap:7px;align-items:center;margin-top:8px;
    }
    .min-btn, .plus-btn {
      width:34px;height:34px;border-radius:50%;border:none;font-weight:900;font-size:1.11rem;
      background:linear-gradient(90deg,var(--accent),#fffbe8);
      color:var(--primary);cursor:pointer;outline:none;
      box-shadow:0 2px 10px #ffb47022;
      transition:background var(--transition);
    }
    .min-btn:hover, .plus-btn:hover { background:var(--primary); color:#fff;}
    .count-show {
      min-width:29px;text-align:center;font-size:1.18rem;font-weight:900;color:var(--primary-dark);background:var(--glass);border-radius:var(--radius-sm);margin:0 4px;
      padding:2px 6px;
      border:none;outline:none;
    }
    .add-btn {
      background: linear-gradient(90deg, var(--primary), var(--accent));
      color:#fff;border-radius:var(--radius-md);border:none;font-weight:900;font-size:1.09rem;cursor:pointer;box-shadow:0 3px 12px #ff2e6327;
      transition:background var(--transition);outline:none;padding:6px 16px;
    }
    .add-btn:hover { background:linear-gradient(90deg,#ff2877,var(--accent)); }
    /* Cart Floating Stylish / Hover */
    .cart-min {
      position:fixed; bottom:28px; left:28px;
      background:linear-gradient(90deg,var(--primary) 70%,var(--accent));
      border-radius:999px; min-width:110px; padding:9px 19px;
      color:#fff;font-weight:900;font-size:1.03rem;box-shadow:0 7px 38px #ff2e633a,0 2px 12px #11111125;
      display:flex;align-items:center;gap:14px;cursor:pointer;z-index:1002;opacity:.94;transition:box-shadow .18s;
    }
    .cart-min:hover { box-shadow:0 16px 56px #ff2e6381,0 3px 22px #11111139; opacity:1; }
    .cart-count {
      background:#fff;color:var(--primary);font-size:1.09rem;padding:4px 13px;border-radius:999px;font-weight:900;
    }
    .cart-dropdown {
      position:absolute; bottom:50px; left:0; min-width:330px; background:var(--surface); 
      border-radius:var(--radius-lg); box-shadow:0 7px 32px #ff2e6381,0 2px 12px #11111131;
      padding:18px 12px; display:none; z-index:2001;
      animation:dropdownCart .36s cubic-bezier(.18,.7,.23,1);
    }
    @keyframes dropdownCart {
      0% { opacity:0; transform:translateY(32px) scale(0.97);}
      100% { opacity:1; transform:translateY(0) scale(1);}
    }
    .cart-min:hover .cart-dropdown, .cart-min:focus .cart-dropdown { display:block; }
    .cart-line { display:flex;justify-content:space-between;align-items:center;border-bottom:1px dashed #eedeee55;padding:5px 2px;}
    .cart-title { font-weight:900;font-size:1.04rem;color:var(--primary);}
    .cart-meta { color:var(--muted); font-size:0.92rem; font-weight:700;}
    .cart-actions { display:flex;gap:5px;align-items:center;}
    .cart-btn { background:transparent;border:none;color:var(--primary);font-weight:900;font-size:1rem;padding:2px;cursor:pointer; }
    .cart-btn:hover { color:var(--accent);}
    .cart-total { font-size:1.09rem; color:var(--primary); font-weight:900; padding:10px 0 3px 0;}
    .cart-order-btn {
      width:100%;border:none;background:#25D366;color:#fff;font-weight:900;font-size:1.05rem;padding:10px 0;border-radius:var(--radius-md); cursor:pointer;margin-top:9px;
      transition:background .18s;
    }
    .cart-order-btn:hover { background:#20b658;}
    .cart-empty { padding:27px 0 18px 0; color:var(--muted); text-align:center; font-size:0.99rem;}
    @media (max-width:700px) {
      .cart-dropdown { min-width:96vw; left:0; right:0; }
      .cart-min { left:6vw; bottom:24px;}
    }

    /* Footer */
    footer {
      background:linear-gradient(90deg,#fff,rgba(255,246,249,.88));
      padding:20px 14px 16px 14px;
      text-align:center;color:var(--muted);font-size:1.05rem;margin-top:auto;border-top:1.5px solid var(--border);
    }
    .footer-brand { font-weight:900;font-size:1.19rem;color:var(--primary);}
    .footer-links { margin-top:8px; }
    .footer-links a { color:var(--primary); text-decoration:none; margin:0 7px; font-weight:900; font-size:.96rem; opacity:.9; transition:color .19s;}
    .footer-links a:hover { color:var(--accent);}
  </style>
</head>
<body>
  <!-- HERO: Minimal, stylish, subtle bg, centered -->
  <section class="hero">
    <div class="hero-inner">
      <div class="hero-logo">
        <img src="https://nol.pages.dev/sec/donicon.png" alt="Zalabia Logo">
      </div>
      <div class="hero-title">ZALABIA & DONUTS</div>
      <div class="hero-desc">
        ŸÇÿßÿ¶ŸÖÿ© ŸÅÿßÿÆÿ±ÿ© ÿ¨ÿØÿßŸã<br>
        ÿßÿ∑ŸÑÿ® ŸÅŸàÿ±ÿßŸã ÿπÿ®ÿ± Ÿàÿßÿ™ÿ≥ÿßÿ® ‚Äî ÿ≥ÿ±Ÿäÿπÿå ÿ®ÿ≥Ÿäÿ∑ÿå ÿ£ŸÜŸäŸÇ.<br>
        <small style="color:#25D366;letter-spacing:.4px">01125263455</small>
      </div>
      <div class="hero-actions">
        <button class="hero-btn" onclick="orderWhatsApp()">üí¨ ÿ∑ŸÑÿ® Ÿàÿßÿ™ÿ≥ÿßÿ®</button>
        <a class="hero-btn" href="tel:01125263455" style="background:var(--accent);color:#fff;">üìû ÿßÿ™ÿµÿßŸÑ ŸÖÿ®ÿßÿ¥ÿ±</a>
      </div>
    </div>
  </section>
  <!-- SEARCH + CATEGORIES -->
  <div class="search-bar">
    <div class="search-container">
      <input id="searchInput" type="search" class="search-input" placeholder="ÿßÿ®ÿ≠ÿ´ ÿπŸÜ ÿµŸÜŸÅ ÿ£Ÿà ŸÜŸÉŸáÿ©..." aria-label="ÿßÿ®ÿ≠ÿ´" autocomplete="off" />
      <span class="search-icon">üîç</span>
    </div>
  </div>
  <nav class="cat-bar" id="catBar"></nav>

  <!-- MENU GRID -->
  <main>
    <section class="menu-grid" id="menuGrid" aria-live="polite"></section>
  </main>

  <!-- Cart Floating: Minimal stylish, hover reveals small dropdown -->
  <div class="cart-min" id="cartMin" tabindex="0" aria-label="ÿ≥ŸÑÿ© ÿßŸÑÿ∑ŸÑÿ®">
    üõí <span>ÿ≥ŸÑÿ©</span> <span style="flex:1"></span>
    <span class="cart-count" id="cartCount">0</span>
    <div class="cart-dropdown" id="cartDropdown">
      <!-- Filled dynamically -->
    </div>
  </div>

  <!-- Footer -->
  <footer>
    <div class="footer-brand">ZALABIA & DONUTS</div>
    <div class="footer-links">
      <a href="https://wa.me/201125263455" target="_blank">WhatsApp</a> ‚Ä¢
      <a href="https://www.tiktok.com/@zalabiaanddounts?_r=1&_t=ZS-94001VJ1Acm" id="tiktokFooter" target="_blank">TikTok</a> ‚Ä¢
      <a href="tel:01125263455">Phone</a>
    </div>
    <div style="color:var(--muted);font-size:0.97rem;">¬© 2026 All Rights Reserved ‚Äì ZALABIA & DONUTS</div>
  </footer>

  <script>
    // MENU DATA
    const MENU_DATA = [
      { id:"don_nutella",cat:"Donuts",name_ar:"ŸÜŸàÿ™ŸäŸÑÿß",name_en:"Nutella",variants:[{label:"Single",price:35},{label:"Double",price:50}] },
      { id:"don_whitechoc",cat:"Donuts",name_ar:"ÿ¥ŸàŸÉŸàŸÑÿßÿ™ÿ© ÿ®Ÿäÿ∂ÿßÿ°",name_en:"White Chocolate",variants:[{label:"Single",price:35},{label:"Double",price:50}] },
      { id:"don_lotus",cat:"Donuts",name_ar:"ŸÑŸàÿ™ÿ≥",name_en:"Lotus",variants:[{label:"Single",price:35},{label:"Double",price:50}] },
      { id:"don_caramel",cat:"Donuts",name_ar:"ŸÉÿ±ÿßŸÖŸäŸÑ",name_en:"Caramel",variants:[{label:"Single",price:35},{label:"Double",price:50}] },
      { id:"don_blueberry",cat:"Donuts",name_ar:"ÿ™Ÿàÿ™ ÿ£ÿ≤ÿ±ŸÇ",name_en:"Blueberry",variants:[{label:"Single",price:35},{label:"Double",price:50}] },
      { id:"don_strawberry",cat:"Donuts",name_ar:"ŸÅÿ±ÿßŸàŸÑÿ©",name_en:"Strawberry",variants:[{label:"Single",price:35},{label:"Double",price:50}] },
      { id:"don_ferrero",cat:"Donuts",name_ar:"ŸÅŸäÿ±Ÿäÿ±Ÿà ÿ±Ÿàÿ¥ŸäŸá",name_en:"Ferrero Rocher",variants:[{label:"Single",price:40},{label:"Double",price:60}] },
      { id:"don_kinder",cat:"Donuts",name_ar:"ŸÉŸäŸÜÿØÿ±",name_en:"Kinder",variants:[{label:"Single",price:40},{label:"Double",price:60}] },
      { id:"don_dark",cat:"Donuts",name_ar:"ÿØÿßÿ±ŸÉ ÿ¥ŸàŸÉŸÑŸäÿ™",name_en:"Dark Chocolate",variants:[{label:"Single",price:40},{label:"Double",price:60}] },
      { id:"don_yogurt",cat:"Donuts",name_ar:"ÿ≤ÿ®ÿßÿØŸä",name_en:"Yogurt",variants:[{label:"Single",price:40},{label:"Double",price:60}] },
      { id:"don_bubblegum",cat:"Donuts",name_ar:"ŸÑÿ®ÿßŸÜ",name_en:"Bubblegum",variants:[{label:"Single",price:35},{label:"Double",price:50}] },
      { id:"don_cotton",cat:"Donuts",name_ar:"ÿ∫ÿ≤ŸÑ ÿßŸÑÿ®ŸÜÿßÿ™",name_en:"Cotton Candy",variants:[{label:"Single",price:35},{label:"Double",price:50}] },
      { id:"w_nutella",cat:"Waffle",name_ar:"ŸÜŸàÿ™ŸäŸÑÿß",name_en:"Nutella Waffle",variants:[{label:"Single",price:35}] },
      { id:"w_whitechoc",cat:"Waffle",name_ar:"ÿ¥ŸàŸÉŸàŸÑÿßÿ™ÿ© ÿ®Ÿäÿ∂ÿßÿ°",name_en:"White Chocolate Waffle",variants:[{label:"Single",price:35}] },
      { id:"w_oreo",cat:"Waffle",name_ar:"ÿßŸàÿ±ŸäŸà",name_en:"Oreo Waffle",variants:[{label:"Single",price:35}] },
      { id:"w_blueberry",cat:"Waffle",name_ar:"ÿ™Ÿàÿ™ ÿ£ÿ≤ÿ±ŸÇ",name_en:"Blueberry Waffle",variants:[{label:"Single",price:35}] },
      { id:"w_strawberry",cat:"Waffle",name_ar:"ŸÅÿ±ÿßŸàŸÑÿ©",name_en:"Strawberry Waffle",variants:[{label:"Single",price:35}] },
      { id:"w_lotus",cat:"Waffle",name_ar:"ŸÑŸàÿ™ÿ≥",name_en:"Lotus Waffle",variants:[{label:"Single",price:35}] },
      { id:"w_caramel",cat:"Waffle",name_ar:"ŸÉÿ±ÿßŸÖŸäŸÑ",name_en:"Caramel Waffle",variants:[{label:"Single",price:35}] },
      { id:"w_ferrero",cat:"Waffle",name_ar:"ŸÅŸäÿ±Ÿäÿ±Ÿà ÿ±Ÿàÿ¥ŸäŸá",name_en:"Ferrero Waffle",variants:[{label:"Single",price:40}] },
      { id:"w_kinder",cat:"Waffle",name_ar:"ŸÉŸäŸÜÿØÿ±",name_en:"Kinder Waffle",variants:[{label:"Single",price:40}] },
      { id:"w_yogurt",cat:"Waffle",name_ar:"ÿ≤ÿ®ÿßÿØŸä",name_en:"Yogurt Waffle",variants:[{label:"Single",price:40}] },
      { id:"w_dark",cat:"Waffle",name_ar:"ÿØÿßÿ±ŸÉ ÿ¥ŸàŸÉŸÑŸäÿ™",name_en:"Dark Chocolate Waffle",variants:[{label:"Single",price:40}] },
      { id:"w_cotton",cat:"Waffle",name_ar:"ÿ∫ÿ≤ŸÑ ÿßŸÑÿ®ŸÜÿßÿ™",name_en:"Cotton Candy Waffle",variants:[{label:"Single",price:40}] },
      { id:"w_bubblegum",cat:"Waffle",name_ar:"ŸÑÿ®ÿßŸÜ",name_en:"Bubblegum Waffle",variants:[{label:"Single",price:35}] },
      { id:"mini_10",cat:"Mini Pancake",name_ar:"ŸÖŸäŸÜŸä ÿ®ÿßŸÜŸÉŸäŸÉ ‚Äî 10 ŸÇÿ∑ÿπ",name_en:"Mini Pancake (10 pcs)",variants:[{label:"10",price:40}],flavors:["ŸÜŸàÿ™ŸäŸÑÿß","ÿ¥ŸàŸÉŸàŸÑÿßÿ™ÿ© ÿ®Ÿäÿ∂ÿßÿ°","ŸÑŸàÿ™ÿ≥","ŸÉÿ±ÿßŸÖŸäŸÑ","ÿ™Ÿàÿ™ ÿ£ÿ≤ÿ±ŸÇ","ŸÅÿ±ÿßŸàŸÑÿ©","ŸÉŸäŸÜÿØÿ±","ÿØÿßÿ±ŸÉ ÿ¥ŸàŸÉŸÑŸäÿ™"] },
      { id:"mini_15",cat:"Mini Pancake",name_ar:"ŸÖŸäŸÜŸä ÿ®ÿßŸÜŸÉŸäŸÉ ‚Äî 15 ŸÇÿ∑ÿπ",name_en:"Mini Pancake (15 pcs)",variants:[{label:"15",price:60}],flavors:["ŸÜŸàÿ™ŸäŸÑÿß","ÿ¥ŸàŸÉŸàŸÑÿßÿ™ÿ© ÿ®Ÿäÿ∂ÿßÿ°","ŸÑŸàÿ™ÿ≥","ŸÉÿ±ÿßŸÖŸäŸÑ","ÿ™Ÿàÿ™ ÿ£ÿ≤ÿ±ŸÇ","ŸÅÿ±ÿßŸàŸÑÿ©","ŸÉŸäŸÜÿØÿ±","ÿØÿßÿ±ŸÉ ÿ¥ŸàŸÉŸÑŸäÿ™"] },
      { id:"mini_20",cat:"Mini Pancake",name_ar:"ŸÖŸäŸÜŸä ÿ®ÿßŸÜŸÉŸäŸÉ ‚Äî 20 ŸÇÿ∑ÿπ",name_en:"Mini Pancake (20 pcs)",variants:[{label:"20",price:70}],flavors:["ŸÜŸàÿ™ŸäŸÑÿß","ÿ¥ŸàŸÉŸàŸÑÿßÿ™ÿ© ÿ®Ÿäÿ∂ÿßÿ°","ŸÑŸàÿ™ÿ≥","ŸÉÿ±ÿßŸÖŸäŸÑ","ÿ™Ÿàÿ™ ÿ£ÿ≤ÿ±ŸÇ","ŸÅÿ±ÿßŸàŸÑÿ©","ŸÉŸäŸÜÿØÿ±","ÿØÿßÿ±ŸÉ ÿ¥ŸàŸÉŸÑŸäÿ™"] },
      { id:"mini_25",cat:"Mini Pancake",name_ar:"ŸÖŸäŸÜŸä ÿ®ÿßŸÜŸÉŸäŸÉ ‚Äî 25 ŸÇÿ∑ÿπ",name_en:"Mini Pancake (25 pcs)",variants:[{label:"25",price:80}],flavors:["ŸÜŸàÿ™ŸäŸÑÿß","ÿ¥ŸàŸÉŸàŸÑÿßÿ™ÿ© ÿ®Ÿäÿ∂ÿßÿ°","ŸÑŸàÿ™ÿ≥","ŸÉÿ±ÿßŸÖŸäŸÑ","ÿ™Ÿàÿ™ ÿ£ÿ≤ÿ±ŸÇ","ŸÅÿ±ÿßŸàŸÑÿ©","ŸÉŸäŸÜÿØÿ±","ÿØÿßÿ±ŸÉ ÿ¥ŸàŸÉŸÑŸäÿ™"] },
      { id:"zal_sugar",cat:"Zalabia",name_ar:"ÿ≥ŸÉÿ±",name_en:"Sugar",variants:[{label:"S",price:30},{label:"M",price:40},{label:"L",price:60},{label:"XL",price:100}] },
      { id:"zal_honey",cat:"Zalabia",name_ar:"ÿπÿ≥ŸÑ",name_en:"Honey",variants:[{label:"S",price:30},{label:"M",price:40},{label:"L",price:60},{label:"XL",price:100}] },
      { id:"zal_nutella",cat:"Zalabia",name_ar:"ŸÜŸàÿ™ŸäŸÑÿß",name_en:"Nutella",variants:[{label:"S",price:35},{label:"M",price:50},{label:"L",price:80},{label:"XL",price:120}] },
      { id:"zal_lotus",cat:"Zalabia",name_ar:"ŸÑŸàÿ™ÿ≥",name_en:"Lotus",variants:[{label:"S",price:35},{label:"M",price:50},{label:"L",price:80},{label:"XL",price:120}] },
      { id:"zal_caramel",cat:"Zalabia",name_ar:"ŸÉÿ±ÿßŸÖŸäŸÑ",name_en:"Caramel",variants:[{label:"S",price:35},{label:"M",price:50},{label:"L",price:80},{label:"XL",price:120}] },
      { id:"zal_blueberry",cat:"Zalabia",name_ar:"ÿ™Ÿàÿ™ ÿ£ÿ≤ÿ±ŸÇ",name_en:"Blueberry",variants:[{label:"S",price:35},{label:"M",price:50},{label:"L",price:80},{label:"XL",price:120}] },
      { id:"zal_strawberry",cat:"Zalabia",name_ar:"ŸÅÿ±ÿßŸàŸÑÿ©",name_en:"Strawberry",variants:[{label:"S",price:35},{label:"M",price:50},{label:"L",price:80},{label:"XL",price:120}] },
      { id:"zal_white",cat:"Zalabia",name_ar:"ŸàÿßŸäÿ™ ÿ¥ŸàŸÉŸÑŸäÿ™",name_en:"White Chocolate",variants:[{label:"S",price:35},{label:"M",price:50},{label:"L",price:80},{label:"XL",price:120}] },
      { id:"zal_dark",cat:"Zalabia",name_ar:"ÿØÿßÿ±ŸÉ ÿ¥ŸàŸÉŸÑŸäÿ™",name_en:"Dark Chocolate",variants:[{label:"S",price:40},{label:"M",price:60},{label:"L",price:100},{label:"XL",price:150}] },
      { id:"zal_kinder",cat:"Zalabia",name_ar:"ŸÉŸäŸÜÿØÿ±",name_en:"Kinder",variants:[{label:"S",price:40},{label:"M",price:60},{label:"L",price:100},{label:"XL",price:150}] },
      { id:"ic_dark",cat:"Ice Coffee",name_ar:"ÿØÿßÿ±ŸÉ",name_en:"Dark",variants:[{label:"single",price:50}] },
      { id:"ic_caramel",cat:"Ice Coffee",name_ar:"ŸÉÿ±ÿßŸÖŸäŸÑ",name_en:"Caramel",variants:[{label:"single",price:50}] },
      { id:"ic_classic",cat:"Ice Coffee",name_ar:"ŸÉŸÑÿßÿ≥ŸäŸÉ",name_en:"Classic",variants:[{label:"single",price:50}] }
    ];

    // State
    let MENU = MENU_DATA.slice();
    let CART = JSON.parse(localStorage.getItem('zalabia_cart_full') || '[]');
    // Categories
    function renderCats() {
      const cats = ['All', ...Array.from(new Set(MENU.map(i=>i.cat)))];
      const bar = document.getElementById('catBar'); bar.innerHTML = '';
      cats.forEach((c,i) => {
        const btn = document.createElement('button');
        btn.className = 'cat-btn' + (i===0?' active':'');
        btn.innerText = (c==='All')?'ÿßŸÑŸÉŸÑ ‚Ä¢ All':(c==='Zalabia'?'ÿ≤ŸÑÿßÿ®Ÿäÿ© ‚Ä¢ Zalabia':c+' ‚Ä¢ '+c);
        btn.tabIndex = 0;
        btn.onclick = () => {
          Array.from(document.querySelectorAll('.cat-btn')).forEach(x=>x.classList.remove('active'));
          btn.classList.add('active');
          renderMenu(c==='All'?MENU:MENU.filter(it=>it.cat===c));
        };
        bar.appendChild(btn);
      });
    }
    // Render menu
    function renderMenu(list) {
      const grid = document.getElementById('menuGrid'); grid.innerHTML = '';
      list.forEach(item => {
        const card = document.createElement('article'); card.className='menu-card';
        // Title
        card.innerHTML = `<div class="item-ar">${item.name_ar}</div><div class="item-en">${item.name_en}</div>`;
        // Variants
        const variants = document.createElement('div'); variants.className='item-variants';
        item.variants.forEach((v,idx)=>{
          const pill = document.createElement('div'); pill.className='variant-pill';
          pill.textContent = `${v.label} - ${v.price} ÿ¨.ŸÖ`;
          pill.tabIndex = 0;
          if(idx===0) pill.classList.add('selected');
          pill.onclick = () => {
            Array.from(variants.children).forEach(x=>x.classList.remove('selected'));
            pill.classList.add('selected');
            updateCardActions(item, v, card, pill);
          }
          variants.appendChild(pill);
        });
        card.appendChild(variants);
        // Flavors
        let flavorElem = null;
        if(item.flavors && item.flavors.length) {
          flavorElem = document.createElement('select');
          flavorElem.style.marginTop="4px";
          flavorElem.className = "variant-pill";
          flavorElem.style.background = "#fff5f8";
          item.flavors.forEach(f => {
            const opt = document.createElement('option'); opt.value = f; opt.textContent = f;
            flavorElem.appendChild(opt);
          });
          card.appendChild(flavorElem);
        }
        // MINIMAL Actions: one plus, one minus, live count, add button
        const actions = document.createElement('div'); actions.className='card-actions';
        const minusBtn = document.createElement('button'); minusBtn.className='min-btn'; minusBtn.textContent='‚àí';
        const plusBtn = document.createElement('button'); plusBtn.className='plus-btn'; plusBtn.textContent='+';
        const countShow = document.createElement('span'); countShow.className='count-show'; countShow.textContent='0';
        // One cart per product+variant+flavor: find count
        const updateCount = ()=>{
          const vIdx = Array.from(variants.children).findIndex(x=>x.classList.contains('selected'));
          const variant = item.variants[vIdx]||item.variants[0];
          let meta = {};
          if(item.flavors && flavorElem) meta.flavor = flavorElem.value;
          const key = item.id + '||' + variant.label + '||' + (meta.flavor||'');
          const found = CART.find(c => c.key === key);
          countShow.textContent = found ? found.qty : 0;
        };
        plusBtn.onclick = ()=>{ // Add
          const vIdx = Array.from(variants.children).findIndex(x=>x.classList.contains('selected'));
          const variant = item.variants[vIdx]||item.variants[0];
          let meta = {};
          if(item.flavors && flavorElem) meta.flavor = flavorElem.value;
          addToCart(item, variant, 1, meta);
          updateCount();
        };
        minusBtn.onclick = ()=>{ // Remove
          const vIdx = Array.from(variants.children).findIndex(x=>x.classList.contains('selected'));
          const variant = item.variants[vIdx]||item.variants[0];
          let meta = {};
          if(item.flavors && flavorElem) meta.flavor = flavorElem.value;
          removeOne(item, variant, meta);
          updateCount();
        };
        actions.appendChild(minusBtn); actions.appendChild(countShow); actions.appendChild(plusBtn);
        // Add-to-cart button
        const addBtn = document.createElement('button'); addBtn.className='add-btn'; addBtn.textContent='ÿ£ÿ∂ŸÅ ŸÑŸÑÿ≥ŸÑÿ©';
        addBtn.onclick = ()=> {
          const vIdx = Array.from(variants.children).findIndex(x=>x.classList.contains('selected'));
          const variant = item.variants[vIdx]||item.variants[0];
          let meta = {};
          if(item.flavors && flavorElem) meta.flavor = flavorElem.value;
          addToCart(item, variant, 1, meta);
          updateCount();
        };
        actions.appendChild(addBtn);
        card.appendChild(actions);
        if(flavorElem) flavorElem.onchange = updateCount;
        grid.appendChild(card);
        updateCount();
      });
    }
    function updateCardActions(item, variant, card, pill) {
      // Update product actions for variant selected, live count
      const actions = card.querySelector('.card-actions');
      if(actions && actions.querySelector('.count-show')) {
        let meta = {};
        if(item.flavors && card.querySelector('select')) meta.flavor = card.querySelector('select').value;
        const key = item.id + '||' + variant.label + '||' + (meta.flavor||'');
        const found = CART.find(c => c.key === key);
        actions.querySelector('.count-show').textContent = found ? found.qty : 0;
      }
    }
    // Cart logic: add/remove one, live count per variant/flavor
    function addToCart(item, variant, qty=1, meta={}) {
      const key = item.id + '||' + variant.label + '||' + (meta.flavor||'');
      const idx = CART.findIndex(c => c.key === key);
      if(idx>=0) { CART[idx].qty += qty; }
      else {
        CART.push({
          key, id: item.id, name_ar: item.name_ar, name_en: item.name_en,
          variant: variant.label, price: variant.price, qty: qty, meta: meta
        });
      }
      saveCart(); renderCartCount(); renderDropdownCart();
    }
    function removeOne(item, variant, meta={}) {
      const key = item.id + '||' + variant.label + '||' + (meta.flavor||'');
      const idx = CART.findIndex(c => c.key === key);
      if(idx>=0) {
        CART[idx].qty -= 1;
        if(CART[idx].qty<=0) CART.splice(idx,1);
        saveCart(); renderCartCount(); renderDropdownCart();
      }
    }
    function saveCart() { localStorage.setItem('zalabia_cart_full', JSON.stringify(CART)); }
    function calcTotal() { return CART.reduce((s,i)=>(s+(i.price||0)*(i.qty||1)),0); }
    function renderCartCount() { document.getElementById('cartCount').innerText = CART.reduce((s,i)=>s+i.qty,0);}
    // Minimal dropdown cart on hover
    function renderDropdownCart() {
      const dropdown = document.getElementById('cartDropdown');
      dropdown.innerHTML = '';
      if(CART.length==0) { dropdown.innerHTML=`<div class="cart-empty">ÿßŸÑÿ≥ŸÑÿ© ŸÅÿßÿ±ÿ∫ÿ©</div>`; return;}
      CART.forEach((c,idx)=>{
        const row = document.createElement('div'); row.className='cart-line';
        let flavorLine = c.meta && c.meta.flavor ? `<span class="cart-meta">${c.meta.flavor}</span>` : '';
        row.innerHTML = `<span class="cart-title">${c.name_ar} - ${c.variant}</span> <span>√ó${c.qty} = ${c.price*c.qty} ÿ¨.ŸÖ</span>`;
        // remove single
        const removeBtn = document.createElement('button'); removeBtn.className='cart-btn'; removeBtn.textContent='‚àí';
        removeBtn.onclick = ()=>{ c.qty--; if(c.qty<=0) CART.splice(idx,1); saveCart(); renderCartCount(); renderDropdownCart();}
        row.appendChild(removeBtn);
        dropdown.appendChild(row);
        if(flavorLine) {
          const metaDiv = document.createElement('div');
          metaDiv.innerHTML = flavorLine;
          metaDiv.style.marginRight="14px";
          dropdown.appendChild(metaDiv);
        }
      });
      // total, order btn
      const totalDiv = document.createElement('div'); totalDiv.className='cart-total';
      totalDiv.innerHTML = `ÿßŸÑÿ•ÿ¨ŸÖÿßŸÑŸä: ${calcTotal()} ÿ¨.ŸÖ`;
      dropdown.appendChild(totalDiv);
      const orderBtn = document.createElement('button'); orderBtn.className='cart-order-btn'; orderBtn.textContent = 'üí¨ ÿ∑ŸÑÿ® Ÿàÿßÿ™ÿ≥ÿßÿ®';
      orderBtn.onclick = orderWhatsApp;
      dropdown.appendChild(orderBtn);
    }
    // Ordering
    const CONTACT={local:"01125263455",full:"201125263455"};
    function generateMessage(){
      if(CART.length===0) return '';
      let msg = `Hello ZALABIA & DONUTS%0AOrder:%0A`,total=0;
      CART.forEach((c,i)=>{
        let meta = c.meta && c.meta.flavor ? ` (${c.meta.flavor})` : '';
        msg += `${i+1}) ${c.name_ar} - ${c.variant}${meta} x${c.qty} = ${c.price * c.qty} ÿ¨.ŸÖ%0A`;
        total += c.price * c.qty;
      });
      msg += `%0ADelivery Phone: `;
      msg += `%0ATotal: ${total} ÿ¨.ŸÖ`;
      return msg;
    }
    function orderWhatsApp(){
      const msg = generateMessage();
      if(!msg){ alert('ÿßŸÑÿ≥ŸÑÿ© ŸÅÿßÿ±ÿ∫ÿ©'); return; }
      window.open(`https://wa.me/${CONTACT.full}?text=${encodeURIComponent(msg)}`,'_blank');
    }
    // Search
    document.getElementById('searchInput').addEventListener('input',function(e){
      const q = e.target.value.trim().toLowerCase();
      if(!q) { renderMenu(MENU); return;}
      const filtered = MENU.filter(it=>it.name_ar.includes(q)||it.name_en.toLowerCase().includes(q)||it.cat.toLowerCase().includes(q)||(it.flavors&&it.flavors.some(f=>f.includes(q))));
      renderMenu(filtered);
    });

    // SPA Init
    function init(){
      renderCats(); renderMenu(MENU); renderCartCount(); renderDropdownCart();
      document.getElementById('tiktokFooter').href = "https://www.tiktok.com/@zalabiaanddounts?_r=1&_t=ZS-94001VJ1Acm";
    }
    init();
    window.zal = {MENU, CART, addToCart, renderMenu};
  </script>
</body>
</html>
