<!DOCTYPE html>
<html lang="ar" dir="rtl">
<head>
  <meta charset="utf-8" />
  <meta name="viewport" content="width=device-width,initial-scale=1" />
  <meta name="theme-color" content="#ff2e63" />
  <title>ZALABIA & DONUTS â€” Ù‚Ø§Ø¦Ù…Ø© Ø§Ù„Ø·Ù„Ø¨</title>
  <meta name="description" content="ZALABIA & DONUTS - Ø£Ø¬ÙˆØ¯ Ø£Ù†ÙˆØ§Ø¹ Ø§Ù„Ø¯ÙˆÙ†Ø§ØªØŒ Ø§Ù„Ø²Ù„Ø§Ø¨ÙŠØ©ØŒ Ø§Ù„ÙˆØ§ÙÙ„ ÙˆØ§Ù„Ù…ÙŠÙ†ÙŠ Ø¨Ø§Ù†ÙƒÙŠÙƒ. Ø§Ø·Ù„Ø¨ Ø§Ù„Ø¢Ù† Ø¹Ø¨Ø± ÙˆØ§ØªØ³Ø§Ø¨ Ø£Ùˆ Ø§Ù„Ù‡Ø§ØªÙ!" />
  <link rel="preconnect" href="https://fonts.googleapis.com" />
  <link rel="preconnect" href="https://fonts.gstatic.com" crossorigin>
  <link href="https://fonts.googleapis.com/css2?family=Cairo:wght@700;900&display=swap" rel="stylesheet" />
  <link rel="icon" href="https://nol.pages.dev/sec/donicon.png" />
  <style>
    :root {
      --primary: #ff2e63;
      --primary-dark: #ff1751;
      --accent: #ffb470;
      --bg: #fff6f9;
      --surface: #fff;
      --surface-hover: #fff3f6;
      --border: #eee3eb;
      --text: #1a1a1a;
      --muted: #8f7e87;
      --shadow: 0 4px 32px rgba(255,46,99,0.07);
      --radius-lg: 22px;
      --radius-md: 14px;
      --radius-sm: 8px;
      --transition: 200ms cubic-bezier(.2,.7,.3,1);
    }
    html, body {
      height: 100%;
      background: var(--bg);
      color: var(--text);
      font-family: "Cairo", system-ui, Arial, sans-serif;
      font-weight: 700;
      margin: 0;
    }
    body {
      min-height: 100vh;
      display: flex;
      flex-direction: column;
    }
    /* Header / Branding */
    header {
      background: linear-gradient(90deg, #fff 70%, rgba(255,246,249,0.8)), url('https://nol.pages.dev/srs/don.png') center no-repeat;
      background-size: cover;
      position: sticky;
      top: 0;
      z-index: 50;
      box-shadow: 0 2px 24px #ffb47018;
    }
    .nav-bar {
      display: flex;
      align-items: center;
      gap: 18px;
      padding: 16px 24px;
      backdrop-filter: blur(6px);
    }
    .brand-logo {
      width: 62px; height: 62px;
      border-radius: 18px;
      background: linear-gradient(135deg, var(--primary), var(--accent) 70%);
      display: flex; align-items: center; justify-content: center;
      font-size: 2.5rem; color: #fff;
      font-weight:900;
      box-shadow: 0 4px 32px #ff2e6348;
      border: 4px solid #fff3f6;
     }
    .brand-details h1 {
      margin: 0; font-size: 2rem; font-weight:900; letter-spacing: 1px; color: var(--primary);
    }
    .brand-details p {
      margin: 0; font-size: 1.05rem; color: var(--muted); font-weight:700;
    }
    @media (max-width:700px) {
      .nav-bar { flex-direction: column; align-items: flex-start; gap:8px; }
      .brand-details h1 { font-size: 1.4rem; }
    }
    /* Hero + contact */
    .hero-strip {
      display: flex; flex-wrap: wrap; gap:32px; align-items:center; justify-content:space-between;
      padding: 18px 24px 0 24px;
      background: transparent;
    }
    .hero-head {
      max-width: 380px;
    }
    .hero-title {
      font-size: 2.2rem; font-weight: 900;  color: var(--primary-dark); margin-bottom: 6px;
    }
    .hero-desc {
      color: var(--muted); font-size: 1rem; margin-bottom: 12px;
    }
    .hero-cta { display: flex; gap: 8px; flex-wrap: wrap; }
    .cta-btn {
      background: linear-gradient(90deg,var(--primary),var(--accent));
      color: #fff;
      border: none;
      border-radius: var(--radius-md);
      font-size: 1.18rem; font-weight: 900;
      padding: 13px 22px;
      cursor: pointer;
      box-shadow: 0 4px 28px #ff2e6396;
      transition: background var(--transition), transform var(--transition);
      outline: none;
      display: flex; align-items: center; gap:8px;
    }
    .cta-btn:hover { background: linear-gradient(90deg,var(--primary-dark),var(--primary),var(--accent)); transform: translateY(-2px) scale(1.03);}
    .cta-btn.phone { background: linear-gradient(90deg,var(--accent) 70%, var(--primary) 100%);}
    .cta-btn.whatsapp { background: #25D366;}
    /* Socials */
    .contact-strip { display: flex; gap:16px; align-items:center; margin-top:5px;}
    .contact-link {
      color: var(--primary);
      text-decoration:none;
      font-size:1.15rem;font-weight:900;display:flex;align-items:center;gap:6px;
      opacity:.92;
      transition:color 0.18s;
    }
    .contact-link:hover { color: var(--primary-dark);}
    /* Categories */
    .category-bar {
      display: flex; gap:14px; overflow-x: auto; padding: 22px 24px 10px 24px; margin-bottom:12px;
      scrollbar-width: thin;
    }
    .category-btn {
      background: var(--surface);
      border: 2.5px solid var(--border);
      border-radius: 999px; font-weight: 900; font-size:1rem; color: var(--muted);
      padding: 8px 18px 8px 18px; cursor: pointer; outline: none;
      transition: all var(--transition);
      box-shadow: none;
      white-space: nowrap;
    }
    .category-btn.active, .category-btn:active, .category-btn:focus {
      background: linear-gradient(90deg,var(--primary),var(--accent));
      border-color: var(--primary); color: #fff;
      box-shadow: 0 2px 16px #ff2e6370;
      transform:translateY(-2px);
    }
    /* Search */
    .search-bar {
      margin: 0 24px 0 24px;
      margin-bottom:12px;
      position:relative; display: flex; align-items:center; max-width: 420px;
    }
    .search-bar input {
      width: 100%; font-size: 1.12rem; padding: 12px 46px 12px 20px;
      border:2px solid var(--border); background:var(--surface); border-radius:var(--radius-lg);
      outline: none; font-family: "Cairo";
      transition: border .13s;
      color:var(--text);
      box-shadow: 0 2px 18px #eeeeee18;
    }
    .search-bar input:focus { border-color: var(--primary);}
    .search-bar .search-icon {
      position: absolute; right:16px; color:var(--muted); font-size:1.42rem; opacity:.62;
    }

    /* Menu grid */
    main { flex:1; }
    .menu-grid {
      display: grid;
      grid-template-columns: repeat(auto-fit, minmax(325px, 1fr));
      gap: 18px;
      padding: 8px 24px 32px 24px;
      box-sizing:border-box;
    }
    .menu-card {
      background: var(--surface);
      border-radius: var(--radius-lg);
      box-shadow: var(--shadow);
      padding: 24px 18px 18px 18px;
      display: flex;
      flex-direction: column;
      gap: 12px;
      min-height: 180px;
      transition:box-shadow var(--transition),transform var(--transition);
      position:relative;
      border:2.5px solid var(--surface-hover);
    }
    .menu-card:hover {
      box-shadow: 0 8px 48px #ff2e6344;
      transform:translateY(-7px) scale(1.013);
      border-color: var(--primary);
    }
    .item-title-ar {
      font-weight:900;font-size:1.22rem;color:var(--primary);
    }
    .item-title-en {
      font-size:0.96rem; color: var(--muted); font-weight:700;
    }
    .item-variants {
      display: flex;
      flex-wrap: wrap; gap: 9px;
      margin-top:7px;
    }
    .variant-pill {
      border-radius: 999px;
      border:2px solid var(--border);
      background: var(--surface-hover);
      color: var(--primary-dark);
      padding: 7px 18px 7px 14px;
      font-weight:800;
      position:relative;
      font-size:1.06rem;
      display:flex;align-items:center;gap:9px;
      cursor:pointer;
      transition:border var(--transition),background var(--transition);
      min-width:80px;
    }
    .variant-pill.selected, .variant-pill:active {
      border:2.2px solid var(--primary-dark);
      background: linear-gradient(90deg,#fff,var(--primary) 40%,var(--accent) 95%);
      color:#fff;
    }
    .item-flavors-select {
      margin-top:6px;
      margin-bottom:0;
      font-size:1.01rem;
      color:var(--muted);
      background: var(--surface-hover);
      padding: 6px 9px; border-radius:var(--radius-sm); border:none; outline:none;
      font-family:"Cairo";
      transition:box-shadow .13s;
      box-shadow:0 2px 8px #ff2e6335;
    }
    /* Add to cart controls */
    .item-controls {
      display: flex; gap:8px; align-items:center; margin-top:7px;
    }
    .qty-btn {
      width:34px; height:34px;
      border-radius:50%; border:2px solid var(--primary);
      color:var(--primary-dark); font-size:1.1rem;font-weight:900; background:#fff; cursor:pointer;
      display:flex;align-items:center; justify-content:center;
      transition:background .16s;
      outline:none;
    }
    .qty-btn:active { background:var(--surface-hover);}
    .qty-input {
      min-width:32px; text-align:center; border:none; background:transparent; font-size:1.11rem; font-weight:900;
      color:var(--text);
      outline:none;
    }
    .add-cart-btn {
      background: linear-gradient(90deg, var(--primary), var(--accent));
      color: #fff; border: none; border-radius:var(--radius-md); font-weight:900; font-family:"Cairo";
      font-size:1.09rem; padding:8px 22px; cursor:pointer;
      transition: box-shadow 0.14s;
      box-shadow:0 3px 14px #ff2e6330;
      margin-right:5px;
      outline: none;
    }
    .add-cart-btn:active, .add-cart-btn:focus { background:linear-gradient(80deg,var(--primary-dark),var(--primary));}
    /* Cart Floating Button */
    .cart-float {
      display: flex; align-items: center; gap:12px;
      position:fixed; left:24px; bottom:24px; z-index:99;
      background: linear-gradient(90deg, var(--primary), var(--accent));
      color:#fff;
      padding: 14px 26px;
      font-weight:900; border-radius:999px;
      box-shadow:0 10px 40px #ff2e6340,0 2px 16px #11111125;
      font-size:1.11rem;
      cursor:pointer;
      transition:box-shadow .16s;
      min-width:142px;
      opacity: .94;
    }
    .cart-float:hover { box-shadow:0 14px 52px #ff2e6381,0 3px 22px #11111139; opacity:1;}
    .cart-count {
      background: #fff; color: var(--primary-dark);
      font-size: 0.96rem;
      padding: 5px 15px;
      border-radius: 999px;
      font-weight:900;
    }

    /* Drawer (Cart) */
    .drawer {
      position:fixed; right:0; left:0; bottom:0;
      background: rgba(255,255,255,0.98);
      box-shadow:0 -16px 48px #ff2e6348;
      border-top-right-radius: 34px; border-top-left-radius: 34px;
      padding:40px 2vw 18px 2vw;
      z-index:250;
      transform:translateY(110%);
      transition: transform var(--transition);
      max-height:86vh; overflow-y: auto;
      font-weight:700;
    }
    .drawer.show { transform:translateY(0);}
    .drawer-header {
      display:flex;justify-content:space-between;align-items:center;margin-bottom:10px;
    }
    .drawer-cart-list {
      margin: 16px 0 0 0;
      border-top:1.6px solid var(--border);
      padding-top:13px;
      min-height:68px;
    }
    .cart-line { display: flex; justify-content: space-between; align-items: center; border-bottom:1px dashed #eedeee55; padding:11px 2px;}
    .cart-item-details { flex:1 1 60%; }
    .cart-item-desc { font-size:1.04rem;font-weight:900; }
    .cart-item-flavor { color: var(--muted); font-size:0.97rem;}
    .cart-line-controls { display:flex; gap:8px; align-items:center; font-size:1.11rem;}
    .remove-btn { background:transparent; border:none; color:var(--muted); font-size:0.98rem; font-weight:800; cursor:pointer; }
    .drawer-footer {
      border-top:1.5px solid var(--border); padding-top:16px; margin-top:22px;
      display: flex; justify-content:space-between; align-items: flex-end; gap:12px; flex-wrap: wrap;
    }
    .drawer-total { font-size:1.15rem; color:var(--primary); font-weight:900;}
    .drawer-actions { display: flex; gap: 10px; flex-wrap: wrap;}
    .drawer-btn {
      background: linear-gradient(90deg,var(--primary),var(--accent));
      color: #fff;
      padding: 12px 25px;
      border-radius: var(--radius-md);
      border: none;
      font-weight: 900;
      font-size: 1.07rem;
      cursor: pointer;
      box-shadow: 0 1px 13px #ff2e6355;
      transition: background .18s, box-shadow .18s;
      outline:none;
    }
    .drawer-btn.phone { background: linear-gradient(90deg,var(--accent) 80%, var(--primary) 100%);}
    .drawer-btn.whatsapp { background:#25D366;color:#fff;}
    .drawer-btn:active { box-shadow: 0 4px 20px #ff2e6342; background:linear-gradient(90deg,var(--primary-dark),var(--primary));}
    .empty-cart-msg {
      padding:33px 0 24px 0;
      color:var(--muted);text-align:center;font-size:1.04rem;
      background:inherit;
    }

    /* Sticky Order Bar (Mobile) */
    .sticky-order { position:fixed; right:18px; left:18px; bottom:18px; z-index:202; display:none;}
    .order-bar {
      display:flex;justify-content:space-between;align-items:center;
      background: linear-gradient(90deg,var(--primary) 78%,var(--accent));
      color:#fff; padding:15px 20px; border-radius:16px; font-size:1.09rem; font-weight:900; box-shadow:0 6px 32px #ff2e6338;
    }
    .order-bar-actions { display:flex;gap:7px; }
    .order-mini-btn {
      padding:10px 15px; border:none; border-radius:9px; background:#25D366; color:#fff; font-weight:800;font-size:1.02rem; cursor:pointer;
      transition:background .16s; margin-left:6px;
    }
    .order-mini-btn.basket { background:rgba(255,255,255,0.16);color:#fff;}
    @media (max-width: 900px) {
      .cart-float { display: none;}
      .sticky-order { display: block;}
      .drawer { border-radius:28px 28px 0 0; padding-top:20px;}
      .drawer-footer { flex-direction: column; align-items: stretch;}
      .drawer-btn, .drawer-btn.phone, .drawer-btn.whatsapp { width:100%; margin-bottom:8px;}
    }

    /* Toast / Undo remove */
    .toast {
      position:fixed; right:28px; bottom:92px; background:#222; color:#fff; padding:14px 22px; border-radius:13px;
      font-size:1.12rem;font-weight:900;box-shadow:0 6px 30px #0009;
      opacity:0; transform:translateY(12px);
      transition:all .33s cubic-bezier(.2,.85,.29,1);
      z-index:999;
      pointer-events:none;
    }
    .toast.show { opacity:1; transform:translateY(0); pointer-events:auto;}
    .toast button {
      background:transparent;border:0;color:#fff;font-weight:900;cursor:pointer;font-size:1rem; margin-right:6px;
    }

    /* Footer */
    footer {
      background: linear-gradient(90deg,#fff,rgba(255,246,249,.82));
      padding: 30px 20px 16px 20px;
      text-align:center; color:var(--muted);font-size:1.06rem; margin-top:auto;
      border-top:1.5px solid var(--border);
    }
    .footer-brand { font-weight:900;font-size:1.23rem; color:var(--primary);}
    .footer-links { margin-top:12px; }
    .footer-links a {
      color:var(--primary); text-decoration:none; margin:0 10px; font-weight:900; font-size:1rem; opacity:.9; transition:color .15s;
    }
    .footer-links a:hover { color:var(--accent);}
  </style>
</head>
<body>

  <!-- Header/Brand Bar -->
  <header>
    <div class="nav-bar">
      <div class="brand-logo" aria-label="Zalabia Logo">Z</div>
      <div class="brand-details">
        <h1>ZALABIA & DONUTS</h1>
        <p>Ù‚Ø§Ø¦Ù…Ø© ÙØ§Ø®Ø±Ø© â€” Arabic First â€¢ Phone-First â€” Quality</p>
      </div>
    </div>
    <div class="hero-strip">
      <div class="hero-head">
        <div class="hero-title">Ø§Ø®ØªØ¨Ø± Ø£Ø·ÙŠØ¨ Ø§Ù„Ù†ÙƒÙ‡Ø§Øª</div>
        <div class="hero-desc">
          Ø£Ø´Ù‡Ù‰ Ø§Ù„Ø²Ù„Ø§Ø¨ÙŠØ©ØŒ Ø¯ÙˆÙ†Ø§ØªØŒ ÙˆØ§ÙÙ„ØŒ Ù…ÙŠÙ†ÙŠ Ø¨Ø§Ù†ÙƒÙŠÙƒ ÙˆÙ‚Ù‡ÙˆØ© Ø¨Ø§Ø±Ø¯Ø©.<br>
          <strong>Ø§Ø·Ù„Ø¨ Ù…Ø¨Ø§Ø´Ø±Ø©Ù‹</strong> Ø¹Ø¨Ø± ÙˆØ§ØªØ³Ø§Ø¨ Ø£Ùˆ Ø§Ù„Ù‡Ø§ØªÙ Ù„Ù„ØªÙˆØµÙŠÙ„ ÙˆØ§Ù„Ø¯ÙØ¹ Ø¹Ù†Ø¯ Ø§Ù„Ø§Ø³ØªÙ„Ø§Ù….
        </div>
        <div class="hero-cta">
          <button class="cta-btn whatsapp" onclick="orderWhatsApp()">ğŸ’¬ Ø§Ø·Ù„Ø¨ ÙˆØ§ØªØ³Ø§Ø¨</button>
          <button class="cta-btn phone" onclick="orderPhone()">ğŸ“ Ø§ØªØµØ§Ù„ Ø³Ø±ÙŠØ¹</button>
        </div>
        <div class="contact-strip" style="margin-top:7px;">
          <a class="contact-link" href="https://wa.me/201125263455" target="_blank">WhatsApp: 01125263455</a>
          <a class="contact-link" href="tel:01125263455">Ø§ØªØµØ§Ù„ Ù…Ø¨Ø§Ø´Ø±</a>
          <a class="contact-link" href="https://www.tiktok.com/@zalabiaanddounts?_r=1&_t=ZS-94001VJ1Acm" id="tiktokHeader" rel="noopener" target="_blank">
            TikTok
          </a>
        </div>
      </div>
      <div style="flex:1; display:flex; align-items:center; justify-content:center;">
        <img src="https://nol.pages.dev/srs/don.png" alt="Zalabia Donuts Hero" style="max-width:180px;width:100%; border-radius:19px; box-shadow:0 16px 64px #ffbed646;">
      </div>
    </div>
  </header>
  
  <!-- Search & Categories Bar -->
  <div style="width:100%;padding-bottom:2px;margin-top:1.5em;">
    <form class="search-bar" onsubmit="return false;">
      <input id="searchInput" type="search" placeholder="Ø§Ø¨Ø­Ø« Ø¹Ù† ØµÙ†Ù Ø£Ùˆ Ù†ÙƒÙ‡Ø©..." aria-label="Ø§Ø¨Ø­Ø« ÙÙŠ Ø§Ù„Ù‚Ø§Ø¦Ù…Ø©" autocomplete="off" />
      <span class="search-icon">ğŸ”</span>
    </form>
    <nav class="category-bar" role="navigation" id="catBar"></nav>
  </div>
  
  <!-- Menu Items -->
  <main>
    <section class="menu-grid" id="menuGrid" aria-live="polite"></section>
  </main>

  <!-- Floating Cart Button Desktop -->
  <div class="cart-float" id="cartFloat" onclick="toggleDrawer()" tabindex="0" role="button" aria-label="ÙØªØ­ Ø³Ù„Ø© Ø§Ù„Ø·Ù„Ø¨">
    ğŸ›’
    <span>Ø§Ù„Ø³Ù„Ø©</span>
    <span style="flex:1"></span>
    <span class="cart-count" id="cartCount">0</span>
  </div>

  <!-- Mobile Sticky Order Bar -->
  <div class="sticky-order">
    <div class="order-bar">
      <span id="stickyTotal">Ø§Ù„Ø¥Ø¬Ù…Ø§Ù„ÙŠ: 0 Ø¬.Ù…</span>
      <span class="order-bar-actions">
        <button class="order-mini-btn" onclick="orderWhatsApp()">ğŸ’¬ ÙˆØ§ØªØ³Ø§Ø¨</button>
        <button class="order-mini-btn basket" onclick="toggleDrawer()">Ø³Ù„Ø©</button>
      </span>
    </div>
  </div>

  <!-- Drawer Cart -->
  <div id="drawer" class="drawer" aria-hidden="true">
    <div class="drawer-header">
      <div>
        <span style="font-size:1.18rem; font-weight:900;">Ø³Ù„Ø© Ø§Ù„Ø·Ù„Ø¨</span>
        <span style="color:var(--muted);font-size:.96rem;font-weight:700;">Ø±Ø§Ø¬Ø¹ Ø£ØµÙ†Ø§ÙÙƒ Ø«Ù… Ø£ÙƒÙ…Ù„ Ø§Ù„Ø·Ù„Ø¨</span>
      </div>
      <div>
        <button class="remove-btn" onclick="clearCart()">Ù…Ø³Ø­ Ø§Ù„ÙƒÙ„</button>
        <button class="remove-btn" onclick="toggleDrawer()">Ø¥ØºÙ„Ø§Ù‚</button>
      </div>
    </div>
    <div id="cartList" class="drawer-cart-list"></div>
    <div class="drawer-footer">
      <div class="drawer-total">
        Ø§Ù„Ø¥Ø¬Ù…Ø§Ù„ÙŠ: <span id="cartTotal">0 Ø¬.Ù…</span>
      </div>
      <div class="drawer-actions">
        <button class="drawer-btn whatsapp" onclick="orderWhatsApp()">ğŸ’¬ Ø·Ù„Ø¨ Ø¹Ø¨Ø± ÙˆØ§ØªØ³Ø§Ø¨</button>
        <button class="drawer-btn phone" onclick="orderPhone()">ğŸ“ Ø§ØªØµØ§Ù„ Ù…Ø¨Ø§Ø´Ø±</button>
      </div>
    </div>
  </div>
  
  <!-- Toast -->
  <div class="toast" id="toast">ØªÙ… Ø§Ù„Ø­Ø°Ù â€” <button onclick="undoRemove()">ØªØ±Ø§Ø¬Ø¹</button></div>
  
  <!-- Footer -->
  <footer>
    <div class="footer-brand">ZALABIA & DONUTS</div>
    <div class="footer-links" style="margin-bottom:8px;">
      <a href="https://wa.me/201125263455" target="_blank">WhatsApp</a> â€¢
      <a href="https://www.tiktok.com/@zalabiaanddounts?_r=1&_t=ZS-94001VJ1Acm" id="tiktokFooter" target="_blank">TikTok</a> â€¢
      <a href="tel:01125263455">Phone</a>
    </div>
    <div style="color:var(--muted);font-size:0.97rem;">Â© 2026 All Rights Reserved â€“ ZALABIA & DONUTS</div>
  </footer>

  <!-- JS: Complete SPA-Style Cart Logic -->
  <script>
    // MENU DATA: Define your full catalog
    const MENU_DATA = [
      // Donuts
      { id: "don_nutella",   cat: "Donuts", name_ar: "Ù†ÙˆØªÙŠÙ„Ø§", name_en: "Nutella", variants: [{label:"Single",price:35}, {label:"Double",price:50}] },
      { id: "don_whitechoc", cat: "Donuts", name_ar: "Ø´ÙˆÙƒÙˆÙ„Ø§ØªØ© Ø¨ÙŠØ¶Ø§Ø¡", name_en: "White Chocolate", variants: [{label:"Single",price:35}, {label:"Double",price:50}] },
      { id: "don_lotus",     cat: "Donuts", name_ar: "Ù„ÙˆØªØ³", name_en: "Lotus", variants: [{label:"Single",price:35}, {label:"Double",price:50}] },
      { id: "don_caramel",   cat: "Donuts", name_ar: "ÙƒØ±Ø§Ù…ÙŠÙ„", name_en: "Caramel", variants: [{label:"Single",price:35}, {label:"Double",price:50}] },
      { id: "don_blueberry", cat: "Donuts", name_ar: "ØªÙˆØª Ø£Ø²Ø±Ù‚", name_en: "Blueberry", variants: [{label:"Single",price:35}, {label:"Double",price:50}] },
      { id: "don_strawberry",cat: "Donuts", name_ar: "ÙØ±Ø§ÙˆÙ„Ø©", name_en: "Strawberry", variants: [{label:"Single",price:35}, {label:"Double",price:50}] },
      { id: "don_ferrero",   cat: "Donuts", name_ar: "ÙÙŠØ±ÙŠØ±Ùˆ Ø±ÙˆØ´ÙŠÙ‡", name_en: "Ferrero Rocher", variants: [{label:"Single",price:40}, {label:"Double",price:60}] },
      { id: "don_kinder",    cat: "Donuts", name_ar: "ÙƒÙŠÙ†Ø¯Ø±", name_en: "Kinder", variants: [{label:"Single",price:40}, {label:"Double",price:60}] },
      { id: "don_dark",      cat: "Donuts", name_ar: "Ø¯Ø§Ø±Ùƒ Ø´ÙˆÙƒÙ„ÙŠØª", name_en: "Dark Chocolate", variants: [{label:"Single",price:40}, {label:"Double",price:60}] },
      { id: "don_yogurt",    cat: "Donuts", name_ar: "Ø²Ø¨Ø§Ø¯ÙŠ", name_en: "Yogurt", variants: [{label:"Single",price:40}, {label:"Double",price:60}] },
      { id: "don_bubblegum", cat: "Donuts", name_ar: "Ù„Ø¨Ø§Ù†", name_en: "Bubblegum", variants: [{label:"Single",price:35}, {label:"Double",price:50}] },
      { id: "don_cotton",    cat: "Donuts", name_ar: "ØºØ²Ù„ Ø§Ù„Ø¨Ù†Ø§Øª", name_en: "Cotton Candy", variants: [{label:"Single",price:35}, {label:"Double",price:50}] },
      // Waffle
      { id: "w_nutella",     cat: "Waffle", name_ar: "Ù†ÙˆØªÙŠÙ„Ø§", name_en: "Nutella Waffle", variants: [{label: "Single", price: 35}] },
      { id: "w_whitechoc",   cat: "Waffle", name_ar: "Ø´ÙˆÙƒÙˆÙ„Ø§ØªØ© Ø¨ÙŠØ¶Ø§Ø¡", name_en: "White Chocolate Waffle", variants: [{label:"Single",price:35}] },
      { id: "w_oreo",        cat: "Waffle", name_ar: "Ø§ÙˆØ±ÙŠÙˆ", name_en: "Oreo Waffle", variants: [{label:"Single",price:35}] },
      { id: "w_blueberry",   cat: "Waffle", name_ar: "ØªÙˆØª Ø£Ø²Ø±Ù‚", name_en: "Blueberry Waffle", variants: [{label:"Single",price:35}] },
      { id: "w_strawberry",  cat: "Waffle", name_ar: "ÙØ±Ø§ÙˆÙ„Ø©", name_en: "Strawberry Waffle", variants: [{label:"Single",price:35}] },
      { id: "w_lotus",       cat: "Waffle", name_ar: "Ù„ÙˆØªØ³", name_en: "Lotus Waffle", variants: [{label:"Single",price:35}] },
      { id: "w_caramel",     cat: "Waffle", name_ar: "ÙƒØ±Ø§Ù…ÙŠÙ„", name_en: "Caramel Waffle", variants: [{label:"Single",price:35}] },
      { id: "w_ferrero",     cat: "Waffle", name_ar: "ÙÙŠØ±ÙŠØ±Ùˆ Ø±ÙˆØ´ÙŠÙ‡", name_en: "Ferrero Waffle", variants: [{label:"Single",price:40}] },
      { id: "w_kinder",      cat: "Waffle", name_ar: "ÙƒÙŠÙ†Ø¯Ø±", name_en: "Kinder Waffle", variants: [{label:"Single",price:40}] },
      { id: "w_yogurt",      cat: "Waffle", name_ar: "Ø²Ø¨Ø§Ø¯ÙŠ", name_en: "Yogurt Waffle", variants: [{label:"Single",price:40}] },
      { id: "w_dark",        cat: "Waffle", name_ar: "Ø¯Ø§Ø±Ùƒ Ø´ÙˆÙƒÙ„ÙŠØª", name_en: "Dark Chocolate Waffle", variants: [{label:"Single",price:40}] },
      { id: "w_cotton",      cat: "Waffle", name_ar: "ØºØ²Ù„ Ø§Ù„Ø¨Ù†Ø§Øª", name_en: "Cotton Candy Waffle", variants: [{label:"Single",price:40}] },
      { id: "w_bubblegum",   cat: "Waffle", name_ar: "Ù„Ø¨Ø§Ù†", name_en: "Bubblegum Waffle", variants: [{label:"Single",price:35}] },
      // Mini Pancake (sizes: 10/15/20/25) - flavors at selection
      {
        id: "mini_10", cat: "Mini Pancake", name_ar: "Ù…ÙŠÙ†ÙŠ Ø¨Ø§Ù†ÙƒÙŠÙƒ â€” 10 Ù‚Ø·Ø¹", name_en: "Mini Pancake (10 pcs)",
        variants: [{label: "10", price: 40}],
        flavors: ["Ù†ÙˆØªÙŠÙ„Ø§", "Ø´ÙˆÙƒÙˆÙ„Ø§ØªØ© Ø¨ÙŠØ¶Ø§Ø¡", "Ù„ÙˆØªØ³", "ÙƒØ±Ø§Ù…ÙŠÙ„", "ØªÙˆØª Ø£Ø²Ø±Ù‚", "ÙØ±Ø§ÙˆÙ„Ø©", "ÙƒÙŠÙ†Ø¯Ø±", "Ø¯Ø§Ø±Ùƒ Ø´ÙˆÙƒÙ„ÙŠØª"]
      },
      {
        id: "mini_15", cat: "Mini Pancake", name_ar: "Ù…ÙŠÙ†ÙŠ Ø¨Ø§Ù†ÙƒÙŠÙƒ â€” 15 Ù‚Ø·Ø¹", name_en: "Mini Pancake (15 pcs)",
        variants: [{label: "15", price: 60}],
        flavors: ["Ù†ÙˆØªÙŠÙ„Ø§", "Ø´ÙˆÙƒÙˆÙ„Ø§ØªØ© Ø¨ÙŠØ¶Ø§Ø¡", "Ù„ÙˆØªØ³", "ÙƒØ±Ø§Ù…ÙŠÙ„", "ØªÙˆØª Ø£Ø²Ø±Ù‚", "ÙØ±Ø§ÙˆÙ„Ø©", "ÙƒÙŠÙ†Ø¯Ø±", "Ø¯Ø§Ø±Ùƒ Ø´ÙˆÙƒÙ„ÙŠØª"]
      },
      {
        id: "mini_20", cat: "Mini Pancake", name_ar: "Ù…ÙŠÙ†ÙŠ Ø¨Ø§Ù†ÙƒÙŠÙƒ â€” 20 Ù‚Ø·Ø¹", name_en: "Mini Pancake (20 pcs)",
        variants: [{label: "20", price: 70}],
        flavors: ["Ù†ÙˆØªÙŠÙ„Ø§", "Ø´ÙˆÙƒÙˆÙ„Ø§ØªØ© Ø¨ÙŠØ¶Ø§Ø¡", "Ù„ÙˆØªØ³", "ÙƒØ±Ø§Ù…ÙŠÙ„", "ØªÙˆØª Ø£Ø²Ø±Ù‚", "ÙØ±Ø§ÙˆÙ„Ø©", "ÙƒÙŠÙ†Ø¯Ø±", "Ø¯Ø§Ø±Ùƒ Ø´ÙˆÙƒÙ„ÙŠØª"]
      },
      {
        id: "mini_25", cat: "Mini Pancake", name_ar: "Ù…ÙŠÙ†ÙŠ Ø¨Ø§Ù†ÙƒÙŠÙƒ â€” 25 Ù‚Ø·Ø¹", name_en: "Mini Pancake (25 pcs)",
        variants: [{label: "25", price: 80}],
        flavors: ["Ù†ÙˆØªÙŠÙ„Ø§", "Ø´ÙˆÙƒÙˆÙ„Ø§ØªØ© Ø¨ÙŠØ¶Ø§Ø¡", "Ù„ÙˆØªØ³", "ÙƒØ±Ø§Ù…ÙŠÙ„", "ØªÙˆØª Ø£Ø²Ø±Ù‚", "ÙØ±Ø§ÙˆÙ„Ø©", "ÙƒÙŠÙ†Ø¯Ø±", "Ø¯Ø§Ø±Ùƒ Ø´ÙˆÙƒÙ„ÙŠØª"]
      },
      // Zalabia
      { id:"zal_sugar",cat:"Zalabia",name_ar:"Ø³ÙƒØ±",name_en:"Sugar",variants:[{label:"S",price:30},{label:"M",price:40},{label:"L",price:60},{label:"XL",price:100}] },
      { id:"zal_honey",cat:"Zalabia",name_ar:"Ø¹Ø³Ù„",name_en:"Honey",variants:[{label:"S",price:30},{label:"M",price:40},{label:"L",price:60},{label:"XL",price:100}] },
      { id:"zal_nutella",cat:"Zalabia",name_ar:"Ù†ÙˆØªÙŠÙ„Ø§",name_en:"Nutella",variants:[{label:"S",price:35},{label:"M",price:50},{label:"L",price:80},{label:"XL",price:120}] },
      { id:"zal_lotus",cat:"Zalabia",name_ar:"Ù„ÙˆØªØ³",name_en:"Lotus",variants:[{label:"S",price:35},{label:"M",price:50},{label:"L",price:80},{label:"XL",price:120}] },
      { id:"zal_caramel",cat:"Zalabia",name_ar:"ÙƒØ±Ø§Ù…ÙŠÙ„",name_en:"Caramel",variants:[{label:"S",price:35},{label:"M",price:50},{label:"L",price:80},{label:"XL",price:120}] },
      { id:"zal_blueberry",cat:"Zalabia",name_ar:"ØªÙˆØª Ø£Ø²Ø±Ù‚",name_en:"Blueberry",variants:[{label:"S",price:35},{label:"M",price:50},{label:"L",price:80},{label:"XL",price:120}] },
      { id:"zal_strawberry",cat:"Zalabia",name_ar:"ÙØ±Ø§ÙˆÙ„Ø©",name_en:"Strawberry",variants:[{label:"S",price:35},{label:"M",price:50},{label:"L",price:80},{label:"XL",price:120}] },
      { id:"zal_white",cat:"Zalabia",name_ar:"ÙˆØ§ÙŠØª Ø´ÙˆÙƒÙ„ÙŠØª",name_en:"White Chocolate",variants:[{label:"S",price:35},{label:"M",price:50},{label:"L",price:80},{label:"XL",price:120}] },
      { id:"zal_dark",cat:"Zalabia",name_ar:"Ø¯Ø§Ø±Ùƒ Ø´ÙˆÙƒÙ„ÙŠØª",name_en:"Dark Chocolate",variants:[{label:"S",price:40},{label:"M",price:60},{label:"L",price:100},{label:"XL",price:150}] },
      { id:"zal_kinder",cat:"Zalabia",name_ar:"ÙƒÙŠÙ†Ø¯Ø±",name_en:"Kinder",variants:[{label:"S",price:40},{label:"M",price:60},{label:"L",price:100},{label:"XL",price:150}] },
      // Ice Coffee
      {id:"ic_dark",cat:"Ice Coffee",name_ar:"Ø¯Ø§Ø±Ùƒ",name_en:"Dark",variants:[{label:"single",price:50}]},
      {id:"ic_caramel",cat:"Ice Coffee",name_ar:"ÙƒØ±Ø§Ù…ÙŠÙ„",name_en:"Caramel",variants:[{label:"single",price:50}]},
      {id:"ic_classic",cat:"Ice Coffee",name_ar:"ÙƒÙ„Ø§Ø³ÙŠÙƒ",name_en:"Classic",variants:[{label:"single",price:50}]},
    ];
    // State
    let MENU = MENU_DATA.slice();
    let CART = JSON.parse(localStorage.getItem('zalabia_cart_full') || '[]');
    let lastRemoved = null, toastTimeout = null;

    // ========== DOM Shortcuts ==========
    const $ = s => document.querySelector(s);
    const $$ = s => [...document.querySelectorAll(s)];
    // ========== Categories ==========
    function renderCats() {
      const cats = ['All', ...Array.from(new Set(MENU.map(i=>i.cat)))];
      const bar = $('#catBar'); bar.innerHTML = '';
      cats.forEach((c,i) => {
        const btn = document.createElement('button');
        btn.className = 'category-btn' + (i===0?' active':'');
        btn.innerText = (c==='All') ? 'Ø§Ù„ÙƒÙ„ â€¢ All' : (c==='Zalabia'?'Ø²Ù„Ø§Ø¨ÙŠØ© â€¢ Zalabia':c+' â€¢ '+c);
        btn.tabIndex = 0;
        btn.onclick = () => {
          $$('.category-btn').forEach(x=>x.classList.remove('active'));
          btn.classList.add('active');
          renderMenu(c==='All'?MENU:MENU.filter(it=>it.cat===c));
        };
        bar.appendChild(btn);
      });
    }

    // ========== Menu Rendering ==========
    function renderMenu(list) {
      const grid = $('#menuGrid'); grid.innerHTML = '';
      list.forEach(item=>{
        const card = document.createElement('article'); card.className='menu-card';

        // Titles
        const h = document.createElement('div');
        h.innerHTML = `<div class="item-title-ar">${item.name_ar}</div><div class="item-title-en">${item.name_en}</div>`;
        card.appendChild(h);

        // Variants
        const variants = document.createElement('div'); variants.className='item-variants';
        item.variants.forEach((v,idx)=>{
          const pill = document.createElement('div'); pill.className='variant-pill';
          pill.textContent = `${v.label} - ${v.price} Ø¬.Ù…`;
          if(idx===0) pill.classList.add('selected');
          pill.onclick = ()=> {
            Array.from(variants.children).forEach(x=>x.classList.remove('selected'));
            pill.classList.add('selected');
            updateCardControls(item, v, card);
          };
          variants.appendChild(pill);
        });
        card.appendChild(variants);

        // Flavor selector for mini pancake
        let flavorElem = null;
        if(item.flavors && item.flavors.length) {
          flavorElem = document.createElement('select');
          flavorElem.className = 'item-flavors-select';
          item.flavors.forEach(f => {
            const opt = document.createElement('option'); opt.value = f; opt.textContent = f;
            flavorElem.appendChild(opt);
          });
          card.appendChild(flavorElem);
        }

        // Controls block (qty+add to cart)
        const controls = document.createElement('div'); controls.className='item-controls';
        const minusBtn = document.createElement('button'); minusBtn.className='qty-btn'; minusBtn.textContent='âˆ’';
        const qtyInput = document.createElement('input'); qtyInput.type = 'text'; qtyInput.value=1; qtyInput.className='qty-input'; qtyInput.size=2; qtyInput.readOnly = true;
        const plusBtn = document.createElement('button'); plusBtn.className='qty-btn'; plusBtn.textContent='+';
        const addBtn = document.createElement('button'); addBtn.className='add-cart-btn'; addBtn.textContent = 'Ø£Ø¶Ù Ù„Ù„Ø³Ù„Ø©';
        // Controls logic
        minusBtn.onclick = ()=>{ let v=Number(qtyInput.value)||1; if(v>1) qtyInput.value=v-1; };
        plusBtn.onclick = ()=>{ let v=Number(qtyInput.value)||1; qtyInput.value=v+1; };
        addBtn.onclick = ()=>{
          const vIdx = Array.from(variants.children).findIndex(x=>x.classList.contains('selected'));
          const variant = item.variants[vIdx]||item.variants[0];
          const qty = Number(qtyInput.value) || 1;
          let meta = {};
          if(item.flavors && item.flavors.length && flavorElem) {
            meta.flavor = flavorElem.value;
          }
          addToCart(item, variant, qty, meta);
        };
        controls.appendChild(minusBtn); controls.appendChild(qtyInput); controls.appendChild(plusBtn); controls.appendChild(addBtn);
        card.appendChild(controls);

        grid.appendChild(card);
      });
    }
    // Called by pill selection to update add-to-cart logic
    function updateCardControls(item, variant, card) {
      const controls = card.querySelector('.item-controls');
      if(controls && controls.querySelector('.add-cart-btn')) {
        controls.querySelector('.add-cart-btn').onclick = ()=>{
          const qty = Number(controls.querySelector('.qty-input').value)||1;
          let meta = {};
          if(item.flavors && item.flavors.length) {
            let flavorElem = card.querySelector('.item-flavors-select');
            if(flavorElem) meta.flavor = flavorElem.value;
          }
          addToCart(item, variant, qty, meta);
        };
      }
    }

    // ========== Cart Logic ==========
    function addToCart(item, variant, qty=1, meta={}) {
      const key = item.id + '||' + variant.label + '||' + (meta.flavor||'');
      const idx = CART.findIndex(c=>c.key===key);
      if(idx>=0) {
        CART[idx].qty += qty;
      } else {
        CART.push({
          key,
          id: item.id,
          name_ar: item.name_ar,
          name_en: item.name_en,
          variant: variant.label,
          price: variant.price,
          qty: qty,
          meta: meta
        });
      }
      saveCart(); renderCartCount(); flashCart(); renderCart(); updateStickyTotal();
    }
    function renderCartCount(){ $('#cartCount').innerText = CART.reduce((s,i)=>s+i.qty,0);}
    function toggleDrawer(){ 
      const d = $('#drawer'); d.classList.toggle('show');
      d.setAttribute("aria-hidden", d.classList.contains('show') ? "false" : "true");
      renderCart();
    }
    function formatPrice(n){ return n + ' Ø¬.Ù…'; }
    function saveCart(){ localStorage.setItem('zalabia_cart_full', JSON.stringify(CART)); }
    function calcTotal(){ return CART.reduce((s,i)=>s + (i.price||0)*(i.qty||1),0);}
    function renderCart() {
      const list = $('#cartList'); list.innerHTML = '';
      if(CART.length==0) { list.innerHTML = `<div class="empty-cart-msg">Ø§Ù„Ø³Ù„Ø© ÙØ§Ø±ØºØ©</div>`; $('#cartTotal').innerText = formatPrice(0); return;}
      let total = 0;
      CART.forEach((c, idx)=>{
        const row = document.createElement('div'); row.className='cart-line';
        const details = document.createElement('div'); details.className='cart-item-details';
        let flavorLine = c.meta && c.meta.flavor ? `<div class="cart-item-flavor">${c.meta.flavor}</div>` : '';
        details.innerHTML = `<div class="cart-item-desc">${c.name_ar} <span style="color:var(--muted); font-weight:700;">â€” ${c.name_en}</span></div>${flavorLine}`;
        const right = document.createElement('div'); right.className='cart-line-controls'; 
        right.innerHTML = `<span style="font-weight:900">${formatPrice(c.price * c.qty)}</span>`;
        // qty, +/-, delete
        const minus=document.createElement('button'); minus.className='remove-btn'; minus.textContent='âˆ’';
        const qty=document.createElement('span'); qty.style.minWidth='26px'; qty.style.textAlign='center'; qty.style.fontWeight='900'; qty.textContent=c.qty;
        const plus=document.createElement('button'); plus.className='remove-btn'; plus.textContent='+';
        const del=document.createElement('button'); del.className='remove-btn'; del.textContent='Ø­Ø°Ù';
        minus.onclick=()=>{if(c.qty>1){c.qty--;saveCart();renderCart();renderCartCount();updateStickyTotal();}else removeFromCart(idx);};
        plus.onclick=()=>{c.qty++;saveCart();renderCart();renderCartCount();updateStickyTotal();};
        del.onclick=()=>{removeFromCart(idx);};
        right.appendChild(minus); right.appendChild(qty); right.appendChild(plus); right.appendChild(del);
        row.appendChild(details); row.appendChild(right);
        list.appendChild(row);
        total+=c.price*c.qty;
      });
      $('#cartTotal').innerText = formatPrice(total);
      renderCartCount();
      updateStickyTotal();
    }
    function removeFromCart(idx){
      lastRemoved = {item:CART[idx], index:idx}; CART.splice(idx,1);
      saveCart(); renderCart(); renderCartCount(); showToast('ØªÙ… Ø§Ù„Ø­Ø°Ù');
      updateStickyTotal();
    }
    function undoRemove(){
      if(!lastRemoved) return;
      CART.splice(lastRemoved.index,0,lastRemoved.item); saveCart(); renderCart(); renderCartCount(); lastRemoved=null; hideToast(); updateStickyTotal();
    }
    function clearCart(){
      if(!confirm('Ù‡Ù„ ØªØ±ÙŠØ¯ Ù…Ø³Ø­ Ø§Ù„Ø³Ù„Ø© Ø¨Ø§Ù„ÙƒØ§Ù…Ù„ØŸ')) return;
      CART=[]; saveCart(); renderCart(); renderCartCount(); updateStickyTotal();
    }
    // Ordering
    const CONTACT={local:"01125263455",full:"201125263455"};
    function generateMessage(){
      if(CART.length===0) return '';
      let msg = `Hello ZALABIA & DONUTS%0AOrder:%0A`, total=0;
      CART.forEach((c,i)=>{
        let meta = c.meta && c.meta.flavor ? ` (${c.meta.flavor})` : '';
        msg += `${i+1}) ${c.name_ar} - ${c.variant}${meta} x${c.qty} = ${c.price * c.qty} Ø¬.Ù…%0A`; total+=c.price*c.qty;
      });
      msg += `%0ADelivery Phone: `;
      msg += `%0ATotal: ${total} Ø¬.Ù…`;
      return msg;
    }
    function orderWhatsApp(){
      const msg = generateMessage();
      if(!msg){ alert('Ø§Ù„Ø³Ù„Ø© ÙØ§Ø±ØºØ©'); return; }
      window.open(`https://wa.me/${CONTACT.full}?text=${encodeURIComponent(msg)}`,'_blank');
    }
    function orderPhone(){ window.location.href='tel:'+CONTACT.local;}
    // UI niceties
    function flashCart(){ const c=$('#cartFloat'); if(!c) return; c.animate([{transform:'scale(1)'},{transform:'scale(1.09)'},{transform:'scale(1)'}],{duration:340,easing:'ease-out'});}
    function showToast(msg){ const t=$('#toast'); t.classList.add("show"); t.firstChild.nodeValue=msg; clearTimeout(toastTimeout); toastTimeout=setTimeout(hideToast,2700);}
    function hideToast(){ $('#toast').classList.remove("show"); }
    // Search
    $('#searchInput').addEventListener('input',(e)=>{
      const q = e.target.value.trim().toLowerCase();
      if(!q) { renderMenu(MENU); return;}
      const filtered = MENU.filter(it=>{
        return it.name_ar.includes(q) || it.name_en.toLowerCase().includes(q) || it.cat.toLowerCase().includes(q)
            || (it.flavors && it.flavors.some(f=>f.includes(q)));
      });
      renderMenu(filtered);
    });
    // Sticky total
    function updateStickyTotal(){ $('#stickyTotal').innerText = 'Ø§Ù„Ø¥Ø¬Ù…Ø§Ù„ÙŠ: ' + (calcTotal() || 0) + ' Ø¬.Ù…'; }
    // On Load - SPA Init
    function init() {
      renderCats(); renderMenu(MENU); renderCart(); renderCartCount(); updateStickyTotal();
      window.addEventListener('beforeunload', saveCart);
      $('#tiktokHeader').href = $('#tiktokFooter').href = "https://www.tiktok.com/@zalabiaanddounts?_r=1&_t=ZS-94001VJ1Acm";
    }
    init();
    window.zal = {MENU, CART, addToCart, renderMenu};
  </script>
</body>
</html>
